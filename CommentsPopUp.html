<script type="text/javascript"
        src="https://hhhhteams.sharepoint.com/sites/HHHHTeams/Style%20Library/js/angular/Templates/CommentsPopUp.js"></script>
<style>
    .DashboardpublicationItem {
        margin: 3px 0px 4px 7px;
    }

    .boxbackcolor {
        background: #f5f5f5;
        border: 1px solid #ccc;
    }

    .pad7 {
        padding: 7px;
    }

    .pl-7 {
        padding-left: 7px;
    }

    .pl-3 {
        padding-left: 3px;
    }

    .modal-content {
        width: 700px;
    }

    #ShowAllCommentsId span.glyphicon-menu-hamburger.dropdown-toggle.page-content {
        top: 0px !important;
        margin-left: -34px !important;
        font-size: 13.5px;
        margin-top: 5px;
        right: 18px !important;
    }
</style>
<div class="{{(Service!= undefined&&Service.results.length >0)||(PortfolioType!=undefined&&PortfolioType=='Service')?'taskprofilepagegreen':''}}">
    <div id="ShowAllCommentsId">
        <div class="" ng-cloak>
            <div class="panel-title">


                <h3 class="col-sm-11 mt-0">
                    Comments: {{Title}} ({{Feedback.Comments.length}})

                </h3>
                <span class="col-sm-1 padL-0 PadR0">
                    <page-settings-info webpartid="'AllCommentspopup'"></page-settings-info>

                    <button type="button" class="close" data-dismiss="modal" ng-click="CancelComments()"
                            style="min-width: 10px;">
                        &times;
                    </button>
                </span>
            </div>

            <div class="panel-body">
                <div class="col-sm-12 boxbackcolor" id="ShowAllComments">
                    <div class="col-sm-12 mt-10 mb-10 padL-0 PadR0">

                        <div class="col-sm-12 mb-10 pl-7 PadR0">
                            <div class="col-sm-11 padL-0">
                                <textarea id="body2" class="form-control" rows="2" ng-required="true"
                                          placeholder="Enter your comments here" ng-model="Feedback.comment"></textarea>
                            </div>

                            <div class="col-sm-1 padL-0">
                                <div class="icon_post">
                                    <img ng-click="PostFeedback()" title="Save changes & exit"
                                         ng-bind-html="GetColumnDetails()"
                                         src="https://hhhhteams.sharepoint.com/sites/HHHHTeams/SiteCollectionImages/ICONS/32/Post.png" />
                                </div>
                            </div>
                        </div>
                        <div class="DashboardpublicationItem"
                             ng-repeat="item in Feedback.Comments| orderBy:'ID':true ">

                            <div class="col-sm-12 pad7">
                                <div class="col-sm-1 padL-0 PadR0">
                                    <img ng-show="item.AuthorName=='Khillan Verma-QA'" style="width:95%;margin-left: -7px;"
                                         src="https://hhhhteams.sharepoint.com/sites/HHHHTeams/SiteCollectionImages/ICONS/32/icon_user.jpg">
                                    <img ng-show="item.AuthorName!='Khillan Verma-QA'" style="height:35px;width:35px;" title="{{item.AuthorName}}"
                                         data-toggle="popover" data-trigger="hover"
                                         ng-src="{{item.AuthorImage}}">
                                </div>
                                <div class="col-sm-11 padL-0 PadR0">
                                    <div class="" style="color:#069;">
                                        <span style="color:#069" class="footerUsercolor" ng-if="item.AuthorImage==undefined">{{item.AuthorName}}</span>
                                        <span class="footerUsercolor" style="font-size: smaller;">{{item.Created | date:'dd MMM yyyy HH:mm'}}</span>

                                        <a class="hreflink" ng-click="editcommentItem(item);"><img ng-src="https://hhhhteams.sharepoint.com/sites/HHHHTeams/SiteCollectionImages/ICONS/32/edititem.gif"></a>
                                        <a class="hreflink" title="Delete" ng-click="saveComment(item,'delete')"><img ng-src="https://hhhhteams.sharepoint.com/sites/HHHHTeams/SiteCollectionImages/ICONS/32/delete.gif"></a>
                                    </div>
                                    <b>{{item.Header}}</b>
                                </div>
                                <div class="col-sm-1"></div>
                                <div class="col-sm-11 padL-0">
                                    <span id="pageContent" ng-bind-html="item.Description | trustedHTML"></span>
                                </div>

                            </div>
                        </div>



                    </div>

                </div>
            </div>
            <div class="modal-footer">

                <button type="button" class="btn btn-default" ng-click="CancelComments()"
                        title="Discard unsaved changes & exit">
                    Cancel
                </button>
            </div>
        </div>


    </div>

    <div id="Updatecomments" class="modal fade in" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-hidden="false" style="display: none;">
        <div class="modal-dialog modal-help">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" ng-click="cancelCommentPopUp()"
                            style="min-width: 10px;">
                        &times;
                    </button>
                    <h4 class="modal-title">
                        Update Comment
                        <page-settings-info webpartid="'UpdateComments'"></page-settings-info>
                    </h4>
                </div>
                <div class="modal-body" style="overflow-y: hidden;">
                    <div class="" style="padding-top:15px;">
                        <div class="col-md-12">
                            <div id="UpdatecommentsItem"></div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer" style="border-top:1px solid transparent;">
                    <div>
                        <span class="pull-right">
                            <button type="button" class="btn btn-primary" ng-click="saveUpdateComment()">Save</button>
                            <button type="button" class="btn btn-default" data-dismiss="modal"
                                    ng-click="cancelCommentPopUp()">
                                Cancel
                            </button>
                        </span>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>